<div class="p-3 d-flex flex-row h-100">
    <div class="d-flex flex-column align-items-center justify-content-center" style="flex: 1">
        <div class="center">
            <div class="page">
                <h1><%= book.title %><br>
                    <div style="font-size: 15px;">By: <%= book.author.username %></div>
                </h1>
                <p><%= book.theme %></p>
                <p class="text-center"><br>***<br></p>
                <p><%= book.text %> ...</p>
            </div>
        </div>
    </div>
    <div class="d-flex flex-column align-items-center justify-content-center" style="flex: 1">
        <div>
            <h1 class="display-2">Contribute to this Book!</h1>
            <% if (!canContribute) { %>
            <div class="d-flex flex-row justify-content-center pt-3 w-75">
                <p class="text-muted">Sorry, you were the last to contribute to this book. Please wait for someone else
                    to write to it before doing so again!</p>
            </div>
            <% } else { %>
            <div class="card mt-5 pt-2">
                <form class="card-body" action="/book/<%= book.id %>" method="post">
                    <input hidden value="<%= book.id %>" name="id" />
                    <div class="d-flex flex-row align-items-center mb-4">
                        <div class="form-outline flex-fill mb-0">
                            <input required type="text" id="word" class="form-control" name="word" />
                            <label class="form-label" for="word">Add a Word</label>
                        </div>
                    </div>
                    <div class="w-100 d-flex flex-row justify-content-end">
                        <button type="submit" class="btn btn-lg rounded-8 gradient-custom-2">
                            <span class="text-white">Contribte</span>
                        </button>
                    </div>
                </form>
            </div>
            <% } %>
        </div>
    </div>
</div>
<script>
    const wordnode = document.getElementById("word");
    wordnode.addEventListener("keyup", (e) => {
        const text = wordnode.value;
        if (e.key === " ") {
            wordnode.value = text.replace(/[^A-Za-z]/g, '');
        }
    });
</script>